{% extends 'student_parents/base.html'%}
{% load static %}
{% load crispy_forms_tags %}

{% block style %}
<style>
    .d-card {
        border-left: 5px solid green;
        border-right: 5px solid green;
    }
    .address {
        display: flex;
        gap: 1em;
    }
</style>
{% endblock %}

{% block main_content %}

<div class="d-card rounded bg-light shadow-sm mt-3 mb-5 p-3">
    <div class="row">
        <div class="col-12 col-md-3">
            <h5>Name</h5>
            <h3>{{child.first_name}} {{child.last_name}}</h3>
        </div>

        <div class="col-12 col-md-3">
            <h5>Class</h5>
            <h3>Class - {{child.class_standard}}</h3>
        </div>

        <div class="col-12 col-md-3">
            <h5>Birth date</h5>
            <h3>{{child.date_of_birth}}</h3>
        </div>

        <div class="col-12 col-md-3">
            <h5>Gender</h5>
            <h3>{{child.get_gender_display}}</h3>
        </div>
    </div>
</div>

{% comment %}
<div class="col-12">
    <form method="POST" class="" enctype="multipart/form-data" id="add-child-form" novalidate>
        {% csrf_token %}
        <!-- Student Form Starts -->
        <div style="overflow: hidden;" class="card shadow-sm border-0 mt-3 mb-5">
            <div class="card-header">Student Information</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 col-md-4">
                        {{form.religion|as_crispy_field}}
                    </div>

                    <div class="col-12 col-md-4">
                        {{form.category|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-4">
                        {{form.minority|as_crispy_field}}
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-md-6">
                        {{form.admission_number|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-6">
                        {{form.aadhar_no|as_crispy_field}}
                    </div>
                </div>
                
                <div class="row">
                    <div class="col-12 col-md-3">
                        {{form.single_child|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-3">
                        {{form.adopted_child|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-3">
                        {{form.orphan_child|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-3">
                        {{form.child_with_needs|as_crispy_field}}
                    </div>
                </div>
            </div>
        </div>
        <!-- Student Form Ends -->

        <!-- Parent Form Starts -->
        <div style="overflow: hidden;" class="card shadow-sm border-0 my-5">
            <div class="card-header">Parent / Guardian Informtion</div>

            <div class="card-body">
                <div class="row">
                    <div class="col-12 col-md-4">
                        {{form.fathers_name|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-4">
                        {{form.fathers_dob|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-4">
                        {{form.fathers_qualification|as_crispy_field}}
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-md-4">
                        {{form.mothers_name|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-4">
                        {{form.mothers_dob|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-4">
                        {{form.mothers_qualification|as_crispy_field}}
                    </div>
                </div>

                <div class="row">
                    <div class="col-12 col-md-6">
                        {{form.email|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-6">
                        {{form.phone_no|as_crispy_field}}
                    </div>
                </div>

                <div class="">
                    {{form.family_annual_income|as_crispy_field}}
                </div>
            </div>
        </div>
        <!-- Parent Form Ends -->

        <!-- Contact Form Starts -->
        <div style="overflow: hidden;" class="card shadow-sm border-0 my-5">
            <div class="card-header">Contact Informtion</div>
            <div class="card-body d-flex flex-column flex-lg-row">

                <div class="mb-4 mb-md-0 mr-md-3">
                    <small class="text-muted d-block mb-3"><b>Current Address</b></small>
                    <div class="border rounded px-3 pt-3">
                        <div class="row">
                            <div class="col-12 col-md-6">
                                {{form.current_address_line_1|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-6">
                                {{form.current_address_line_2|as_crispy_field}}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 col-md-4">
                                {{form.state|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-4">
                                {{form.city|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-4">
                                {{form.pincode|as_crispy_field}}
                            </div>
                        </div>
                    </div>
                </div>

                <div class="ml-lg-3 mt-md-5 mt-lg-0">
                    <div class="d-flex align-items-center justify-content-between">
                        <div>
                            <small class="text-muted d-block mb-3"><b>Parmanent Address</b></small>
                        </div>
                        <div class="formcheck m-0">
                            <input class="formcheck-input ml-0" type="checkbox" value="" id="checkb">
                            <label class="formcheck-label" for="flexCheckDefault">
                                <i>Same as Current Address</i>
                            </label>
                        </div>
                    </div>
                    <div class="border rounded px-3 pt-3">
                        <div class="row">
                            <div class="col-12 col-md-6">
                                {{form.permanent_address_line_1|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-6">
                                {{form.permanent_address_line_2|as_crispy_field}}
                            </div>
                        </div>

                        <div class="row">
                            <div class="col-12 col-md-4">
                                {{form.permanent_state|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-4">
                                {{form.permanent_city|as_crispy_field}}
                            </div>
                            <div class="col-12 col-md-4">
                                {{form.permanent_pincode|as_crispy_field}}
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Contact Form Ends -->

        <!-- Additional Form Starts -->
        <div style="overflow: hidden;" class="card shadow-sm border-0 my-5">
            <div class="card-header">Additional Informtion</div>
            <div class="card-body">
                <div class="row">
                    <div class="col-12 col-md-6">
                        {{form.privious_school|as_crispy_field}}
                    </div>
                    <div class="col-12 col-md-6">
                        {{form.transfer_certificate_no|as_crispy_field}}
                    </div>
                </div>
                <div class="row">
                    <div class="col-12 col-lg-3 col-md-6">
                        {{form.stoppage_name|as_crispy_field}}
                    </div>
                    <div class="col-12 col-lg-3 col-md-6">
                        {{form.shift|as_crispy_field}}
                    </div>
                    <div class="col-12 col-lg-3 col-md-6">
                        {{form.route_code|as_crispy_field}}
                    </div>
                    <div class="col-12 col-lg-3 col-md-6">
                        {{form.fee_waiver_category|as_crispy_field}}
                    </div>

                </div>
            </div>
        </div>
        <!-- Additional Form Ends -->


        <!-- Upload Form Starts -->
        <div style="overflow: hidden;" class="card shadow-sm border-0 my-5">
            <div class="card-header">Upload Documents</div>
            <div class="card-body">

                <div class="row">
                    <div class="col-12 col-md-3 text-center mb-3 border rounded mx-md-3 py-3">
                        <b>Upload Photo</b>
                        <div class="pri p-4" style="justify-content: center; display: flex;">
                            <span class="priview"
                                style="width: 200px; height: 200px;display: flex; background-color:snow; justify-content: center;">
                                <img src="{% static 'student_parents/studentreg/img/200x200.jpg' %}"
                                    style="width: 200px; height: 200px;" id="priviewphoto" alt="Blank"></span>
                        </div>
                        {{form.photo}}
                    </div>

                    <div class="col-12 col-md-3 text-center mb-3 border rounded mx-md-3 py-3">
                        <b>Upload ID Proof</b>
                        <div class="pri p-4" style="justify-content: center; display: flex;">
                            <span class="priview "
                                style="width: 200px; height: 200px;display: flex; background-color: snow; justify-content: center;"><img
                                    src="{% static 'student_parents/studentreg/img/200x200.jpg' %}"
                                    style="width: 200px; height: 200px;" id="priviewID" alt="Blank"></span>
                        </div>
                        {{form.id_proof}}
                    </div>

                    <div class="col-12 col-md-3 text-center mb-3 border rounded mx-md-3 py-3">
                        <b>Caste Certificate</b>
                        <div class="pri p-4" style="justify-content: center; display: flex;">
                            <span class=" priview " style=" width: 200px; height: 200px;display: flex; background-color: snow;
                                    justify-content: center;"><img
                                    src="{% static 'student_parents/studentreg/img/200x200.jpg' %}"
                                    style="width: 200px; height: 200px;" id="priviewCastCerti" alt="Blank"></span>
                        </div>
                        {{form.caste_certificate}}
                    </div>

                    <div class="col-12 col-md-3 text-center mb-3 border rounded mx-md-3 py-3">
                        <b>Upload Character Certificate</b>
                        <div class="pri p-4" style="justify-content: center; display: flex;">
                            <span class="priview"
                                style="width: 200px; height: 200px;display: flex; background-color: snow; justify-content: center;">
                                <img src="{% static 'student_parents/studentreg/img/200x200.jpg' %}"
                                    style="width: 200px; height: 200px;" id="priviewCharacterCerti" alt="Blank"></span>
                        </div>
                        {{form.character_certificate}}
                    </div>

                    <div class="col-12 col-md-3 text-center mb-3 border rounded mx-md-3 py-3">
                        <b>Upload Domicile</b>
                        <div class="pri p-4" style="justify-content: center; display: flex;">
                            <span class="priview "
                                style="width: 200px; height: 200px;display: flex; background-color: snow; justify-content: center;"><img
                                    src="{% static 'student_parents/studentreg/img/200x200.jpg' %}"
                                    style="width: 200px; height: 200px;" id="priviewDomicile" alt="Blank"></span>
                        </div>
                        {{form.domicile}}
                    </div>
                </div>
            </div>

            <div class="row justify-content-center">
                <button type="submit" class="btn btn-primary btn mb-5">
                    Submit
                </button>
            </div>
        </div>

    </form>
</div>
{% endcomment %}
{% crispy form %}
{% comment %} script for add child {% endcomment %}

<script>

    // const currStateSelect = document.querySelector('#id_state')
    // const permStateSelect = document.querySelector('#id_permanent_state')

    // const currCitySelect = document.querySelector('#id_city')
    // const permCitySelect = document.querySelector('#id_permanent_city')

    // let url = "{% static 'student_parents/states-and-districts.json'%}"

    // let data = null;
    // currStateSelect.innerHTML = "<option selected>Loading...</option>";
    // permStateSelect.innerHTML = "<option selected>Loading...</option>";

    // const showOptions = (event) => {
    //     // currCitySelect.removeAttribute("disabled");
    //     let s = event.target
    //     setSelectOptions(
    //         data[s[s.selectedIndex].dataset.id].districts,
    //         document.getElementById(s.id.slice(0, -5) + 'city')
    //     );
    // }

    // function setSelectOptions(data, ele) {
    //     if (data) {
    //         let options = data
    //             .map((element, index) => {
    //                 return element.state
    //                     ? `<option value="${element.state}" data-id="${index}">${element.state}</option>`
    //                     : `<option value="${element}" data-id="${index}">${element}</option>`;
    //             })
    //             .join("");

    //         ele.innerHTML = `<option selected>Choose...</option> ${options}`;
    //     }
    // }

    // async function getData(url) {
    //     let res = await fetch(url)
    //     let data = await res.json()
    //     if (!res.ok)
    //         throw console.log('Data not found')
    //     return data
    // }

    // getData(url)
    //     .then(d => {
    //         data = d;
    //         setSelectOptions(d, currStateSelect)
    //         setSelectOptions(d, permStateSelect)
    //     })
    //     .catch(e => console.log(e))

    // currStateSelect.addEventListener('change', showOptions)
    // permStateSelect.addEventListener('change', showOptions)

            // function validateForm() {
            //     // Fetch all the forms we want to apply custom Bootstrap validation styles to
            //     var forms = document.querySelectorAll('.needs-validation')

            //     // Loop over them and prevent submission
            //     Array.prototype.slice.call(forms)
            //         .forEach(function (form) {
            //             form.addEventListener('submit', function (event) {
            //                 if (!form.checkValidity()) {
            //                     event.preventDefault()
            //                     event.stopPropagation()
            //                 }

            //                 form.classList.add('was-validated')
            //             }, false)
            //         })
            // }

            // validateForm()



            // document.querySelector('#add-child-form')
            //     .addEventListener('submit', e => {
            //         e.preventDefault()
            //         alert('d')
            //     })
</script>


{% endblock main_content %}